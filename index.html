<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏°‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏•‡∏±‡∏¢</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Mitr:wght@300;400;500;600&display=swap" rel="stylesheet">
    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å: ‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ -->
    <div id="page-home" class="page">
        <div class="card">
            <div class="card-header">
                <h1>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç<br>‡∏°‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏•‡∏±‡∏¢</h1>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label for="input-player-name">‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</label>
                    <input type="text" id="input-player-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô..." maxlength="12">
                </div>
                <div class="settings-group">
                    <div class="setting-item">
                        <label for="toggle-bgm">‡πÄ‡∏û‡∏•‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á</label>
                        <label class="switch">
                            <input type="checkbox" id="toggle-bgm" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                    <div class="setting-item">
                        <label for="toggle-sfx">‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÄ‡∏™‡∏µ‡∏¢‡∏á</label>
                        <label class="switch">
                            <input type="checkbox" id="toggle-sfx" checked>
                            <span class="slider round"></span>
                        </label>
                    </div>
                </div>
                <button id="btn-go-to-pre-lobby" class="btn btn-primary">‡πÑ‡∏õ‡∏ï‡πà‡∏≠</button>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏±‡πà‡∏ô: ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° -->
    <div id="page-pre-lobby" class="page" style="display: none;">
        <div class="card">
            <div class="card-header">
                <h1>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, <span id="pre-lobby-player-name"></span>!</h1>
                <p>‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?</p>
            </div>
            <div class="card-body">
                <button id="btn-go-to-create" class="btn btn-primary">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
                <button id="btn-go-to-join" class="btn btn-secondary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á -->
    <div id="page-lobby-create" class="page" style="display: none;">
        <div class="card">
            <div class="card-header">
                <h2>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á</h2>
            </div>
            <div class="card-body">
                <div class="form-group">
                    <label for="input-room-name">‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á (‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°)</label>
                    <input type="text" id="input-room-name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏ô‡∏´‡∏•‡πà‡∏≠">
                </div>
                <div class="form-group">
                    <label for="input-max-players">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</label>
                    <select id="input-max-players">
                        <option value="2">2 ‡∏Ñ‡∏ô</option>
                        <option value="3">3 ‡∏Ñ‡∏ô</option>
                        <option value="4" selected>4 ‡∏Ñ‡∏ô</option>
                        <option value="5">5 ‡∏Ñ‡∏ô</option>
                        <option value="6">6 ‡∏Ñ‡∏ô</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="input-digit-count">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≤‡∏¢</label>
                    <select id="input-digit-count">
                        <option value="3">3 ‡∏´‡∏•‡∏±‡∏Å</option>
                        <option value="4" selected>4 ‡∏´‡∏•‡∏±‡∏Å</option>
                        <option value="5">5 ‡∏´‡∏•‡∏±‡∏Å</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="input-turn-time">‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏≤ (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</label>
                    <select id="input-turn-time">
                        <option value="20">20</option>
                        <option value="30" selected>30</option>
                        <option value="45">45</option>
                        <option value="60">60</option>
                    </select>
                </div>
                <button id="btn-create-room" class="btn btn-primary">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á -->
    <div id="page-lobby-join" class="page" style="display: none;">
        <div class="card">
            <div class="card-header">
                <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</h2>
            </div>
            <div id="room-list-container" class="card-body">
                <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏´‡πâ‡∏≠‡∏á...</p>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏•‡πá‡∏≠‡∏ö‡∏ö‡∏µ‡πâ (‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô) -->
    <div id="page-lobby-wait" class="page" style="display: none;">
        <div class="card">
            <div class="card-header">
                <h2 id="lobby-wait-room-name">‡∏´‡πâ‡∏≠‡∏á: ...</h2>
                <p id="lobby-wait-player-count">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô...</p>
            </div>
            <div id="lobby-wait-player-list" class="player-list-area"></div>
            <div id="lobby-wait-setup-section" class="lobby-action-section">
                <h3>‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!</h3>
                <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß!" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ</p>
                <button id="btn-ready-up" class="btn btn-primary">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß!</button>
            </div>
            <div id="lobby-wait-waiting-section" class="lobby-action-section" style="display: none;">
                <h3>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô...</h3>
                <div class="spinner"></div>
            </div>
            <button id="btn-leave-room-from-lobby" class="btn btn-secondary">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡πâ‡∏≠‡∏á</button>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° -->
    <div id="page-game" class="page" style="display: none;">
        <div class="game-container">
            <div class="game-top-bar">
                <button id="history-toggle-btn" class="btn-icon">
                    üìú
                    <div id="quick-history-display"></div>
                </button>
                <button id="chat-toggle-btn" class="btn-icon">
                    üí¨<span id="chat-unread-indicator" style="display: none;"></span>
                </button>
            </div>

            <h3 id="turn-info-text">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</h3>
            <div id="game-player-list" class="player-list-area"></div>
            <div class="my-number-area">
                <label>‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</label>
                <div id="my-secret-number-display">????</div>
            </div>
            <div class="timer-bar-container">
                <div id="timer-bar"></div>
            </div>
            <div id="game-display"></div>
            <div class="keypad">
                <button class="key">1</button> <button class="key">2</button> <button class="key">3</button>
                <button class="key">4</button> <button class="key">5</button> <button class="key">6</button>
                <button class="key">7</button> <button class="key">8</button> <button class="key">9</button>
                <button id="btn-delete" class="key key-special">‡∏•‡∏ö</button>
                <button class="key">0</button>
                <button id="btn-guess" class="key key-action">‡∏ó‡∏≤‡∏¢</button>
            </div>
            <div class="game-footer-buttons">
                <button id="btn-assassinate" class="btn btn-danger">‡∏ï‡∏∏‡∏¢‡πÄ‡∏¢‡πà!</button>
                <button id="btn-leave-room-from-game" class="btn btn-secondary">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡πâ‡∏≠‡∏á</button>
            </div>
        </div>
    </div>

    <!-- Pop-up ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ -->
    <div id="history-modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
                <button id="history-close-btn" class="close-btn">&times;</button>
            </div>
            <div id="history-modal-body"></div>
        </div>
    </div>

    <!-- Pop-up ‡πÅ‡∏ä‡∏ó -->
    <div id="chat-modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‡πÅ‡∏ä‡∏ó‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á</h3>
                <button id="chat-close-btn" class="close-btn">&times;</button>
            </div>
            <div id="chat-modal-body">
                <div id="chat-messages"></div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...">
                <button id="chat-send-btn">‡∏™‡πà‡∏á</button>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏û‡πâ -->
    <div id="defeated-overlay" style="display: none;">
        <div class="defeated-content">
            <h1>‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß</h1>
            <p>‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏ä‡∏ó‡πÑ‡∏î‡πâ</p>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏®‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞ -->
    <div id="winner-announcement-overlay" class="fullscreen-overlay" style="display: none;">
        <div class="winner-announcement-content">
            <h2>‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏∑‡∏≠...</h2>
            <h1 id="winner-announcement-name"></h1>
        </div>
    </div>

    <!-- ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏â‡∏≤‡∏¢‡∏≤ -->
    <div id="title-card-overlay" class="fullscreen-overlay" style="display: none;">
        <div id="title-card">
            <div id="title-card-emoji"></div>
            <h2 id="title-card-name"></h2>
            <h3 id="title-card-title"></h3>
            <p id="title-card-desc"></p>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡πÄ‡∏Å‡∏° -->
    <div id="page-summary" class="page" style="display: none;">
        <div class="card">
            <div class="card-header">
                <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h2>
            </div>
            <div id="summary-winner-info">
                ‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏Ñ‡∏∑‡∏≠: <span id="summary-winner-name"></span>
            </div>
            <div id="summary-player-list"></div>
            <button id="btn-play-again" class="btn btn-success">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
            <button id="btn-back-to-home" class="btn btn-secondary">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
        </div>
    </div>

    <!-- Marquee Container for Chat -->
    <div id="chat-marquee-container"></div>

    <!-- Arrow Animation Container -->
    <div id="arrow-animation-container"></div>

    <!-- ‡πÇ‡∏Ñ‡πâ‡∏î JavaScript ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏° -->
    <script src="script.js"></script>

</body>
</html>
