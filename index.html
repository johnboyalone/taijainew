<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏°‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏•‡∏±‡∏¢</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase Scripts -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å: ‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠ -->
    <div id="page-home" class="page">
        <div class="card">
            <h1>‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡πÄ‡∏•‡∏Ç‡∏°‡∏´‡∏≤‡∏õ‡∏£‡∏∞‡∏•‡∏±‡∏¢</h1>
            <p>‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</p>
            <input type="text" id="input-player-name" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô..." maxlength="12">
            <button id="btn-go-to-pre-lobby" class="btn btn-primary">‡πÑ‡∏õ‡∏ï‡πà‡∏≠</button>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏Ñ‡∏±‡πà‡∏ô: ‡∏™‡∏£‡πâ‡∏≤‡∏á/‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° -->
    <div id="page-pre-lobby" class="page" style="display: none;">
        <div class="card">
            <h1>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ, <span id="pre-lobby-player-name"></span>!</h1>
            <p>‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£?</p>
            <button id="btn-go-to-create" class="btn btn-primary">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà</button>
            <button id="btn-go-to-join" class="btn btn-secondary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á</button>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á -->
    <div id="page-lobby-create" class="page" style="display: none;">
        <div class="card">
            <h2>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏´‡πâ‡∏≠‡∏á</h2>
            <div class="form-group">
                <label for="input-room-name">‡∏ä‡∏∑‡πà‡∏≠‡∏´‡πâ‡∏≠‡∏á (‡πÄ‡∏ß‡πâ‡∏ô‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∏‡πà‡∏°)</label>
                <input type="text" id="input-room-name" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏ô‡∏´‡∏•‡πà‡∏≠">
            </div>
            <div class="form-group">
                <label for="input-max-players">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</label>
                <select id="input-max-players">
                    <option value="2">2 ‡∏Ñ‡∏ô</option>
                    <option value="3">3 ‡∏Ñ‡∏ô</option>
                    <option value="4" selected>4 ‡∏Ñ‡∏ô</option>
                    <option value="5">5 ‡∏Ñ‡∏ô</option>
                    <option value="6">6 ‡∏Ñ‡∏ô</option>
                </select>
            </div>
            <div class="form-group">
                <label for="input-digit-count">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏•‡∏Ç‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≤‡∏¢</label>
                <select id="input-digit-count">
                    <option value="3">3 ‡∏´‡∏•‡∏±‡∏Å</option>
                    <option value="4" selected>4 ‡∏´‡∏•‡∏±‡∏Å</option>
                    <option value="5">5 ‡∏´‡∏•‡∏±‡∏Å</option>
                </select>
            </div>
            <div class="form-group">
                <label for="input-turn-time">‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏≤ (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</label>
                <select id="input-turn-time">
                    <option value="20">20</option>
                    <option value="30" selected>30</option>
                    <option value="45">45</option>
                    <option value="60">60</option>
                </select>
            </div>
            <button id="btn-create-room" class="btn btn-primary">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏´‡πâ‡∏≠‡∏á</button>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏´‡πâ‡∏≠‡∏á -->
    <div id="page-lobby-join" class="page" style="display: none;">
        <div class="card">
            <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡πâ‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</h2>
            <div id="room-list-container">
                <p>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏´‡πâ‡∏≠‡∏á...</p>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° -->
    <div id="page-game" class="page" style="display: none;">
        <div class="game-header">
            <h2 id="game-room-name">‡∏´‡πâ‡∏≠‡∏á: ...</h2>
            <div class="game-header-buttons">
                <div id="floating-chat-container"></div>
                <button id="history-toggle-btn" class="btn-icon">üìú</button>
                <button id="chat-toggle-btn" class="btn-icon">
                    üí¨<span id="chat-unread-indicator" style="display: none;"></span>
                </button>
            </div>
        </div>

        <div id="my-secret-number-display">‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <span>????</span></div>

        <div id="player-list"></div>

        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö -->
        <div id="setup-section" class="game-section">
            <h3>‡∏ñ‡∏∂‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏•‡∏Ç‡∏•‡∏±‡∏ö‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì!</h3>
            <p>‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏î "‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß!" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏∏‡πà‡∏°‡πÄ‡∏•‡∏Ç‡πÉ‡∏´‡πâ</p>
            <button id="btn-ready-up" class="btn btn-primary">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß!</button>
        </div>

        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏∑‡πà‡∏ô -->
        <div id="waiting-section" class="game-section" style="display: none;">
            <h3>‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏£‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏ô‡∏≠‡∏∑‡πà‡∏ô...</h3>
            <div class="spinner"></div>
        </div>

        <!-- ‡∏™‡πà‡∏ß‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏° -->
        <div id="gameplay-section" class="game-section" style="display: none;">
            <div class="turn-info">
                <div id="timer-indicator">30</div>
                <div id="target-indicator">‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ...</div>
                <div id="turn-indicator">‡∏ú‡∏π‡πâ‡∏ó‡∏≤‡∏¢: ...</div>
            </div>
            <div id="game-display"></div>
            <div class="keypad">
                <button class="key">1</button> <button class="key">2</button> <button class="key">3</button>
                <button class="key">4</button> <button class="key">5</button> <button class="key">6</button>
                <button class="key">7</button> <button class="key">8</button> <button class="key">9</button>
                <button id="btn-delete" class="key key-special">‡∏•‡∏ö</button>
                <button class="key">0</button>
                <button id="btn-guess" class="key key-action">‡∏ó‡∏≤‡∏¢</button>
            </div>
            <button id="btn-assassinate" class="btn btn-danger">‡∏ï‡∏∏‡∏¢‡∏ã‡∏∞‡πÄ‡∏ñ‡∏≠‡∏∞!</button>
        </div>

        <button id="btn-leave-room" class="btn btn-secondary">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏´‡πâ‡∏≠‡∏á</button>
    </div>

    <!-- Pop-up ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥ -->
    <div id="history-modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏Å‡∏≤‡∏£‡∏ó‡∏≤‡∏¢‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h3>
                <button id="history-close-btn" class="close-btn">&times;</button>
            </div>
            <div id="history-modal-body"></div>
        </div>
    </div>

    <!-- Pop-up ‡πÅ‡∏ä‡∏ó -->
    <div id="chat-modal-overlay" class="modal-overlay" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3>‡πÅ‡∏ä‡∏ó‡πÉ‡∏ô‡∏´‡πâ‡∏≠‡∏á</h3>
                <button id="chat-close-btn" class="close-btn">&times;</button>
            </div>
            <div id="chat-modal-body">
                <div id="chat-messages"></div>
            </div>
            <div class="chat-input-area">
                <input type="text" id="chat-input" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°...">
                <button id="chat-send-btn">‡∏™‡πà‡∏á</button>
            </div>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏û‡πâ -->
    <div id="defeated-overlay" style="display: none;">
        <div class="defeated-content">
            <h1>‡∏Ñ‡∏∏‡∏ì‡∏ñ‡∏π‡∏Å‡∏Å‡∏≥‡∏à‡∏±‡∏î‡πÅ‡∏•‡πâ‡∏ß</h1>
            <p>‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏î‡∏π‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏ä‡∏ó‡πÑ‡∏î‡πâ</p>
        </div>
    </div>

    <!-- ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏â‡∏≤‡∏¢‡∏≤ (‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏π‡πâ‡∏ä‡∏ô‡∏∞‡∏î‡πâ‡∏ß‡∏¢) -->
    <div id="title-card-overlay" style="display: none;">
        <div id="title-card">
            <div id="title-card-emoji"></div>
            <h2 id="title-card-name"></h2>
            <h3 id="title-card-title"></h3>
            <p id="title-card-desc"></p>
        </div>
    </div>

    <!-- ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡πÄ‡∏Å‡∏° -->
    <div id="page-summary" class="page" style="display: none;">
        <div class="card">
            <h1>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô</h1>
            <div id="summary-winner"></div>
            <div id="summary-player-list"></div>
            <button id="btn-play-again" class="btn btn-success">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
            <button id="btn-back-to-home" class="btn btn-secondary">‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
        </div>
    </div>

    <!-- ‡πÇ‡∏Ñ‡πâ‡∏î JavaScript ‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏° -->
    <script src="script.js"></script>

</body>
</html>
