<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>เกมทายเลข (รุมทาย)</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
</head>
<body>

    <!-- Page 1: Home / Welcome -->
    <div id="page-home" class="page">
        <div class="container">
            <h1>เกมทายเลข (รุมทาย)</h1>
            <p>ทายเลข 4 หลักของเป้าหมายให้ถูก!</p>
            <input type="text" id="input-player-name" placeholder="กรอกชื่อของคุณ...">
            <button id="btn-go-to-lobby" class="btn btn-primary">เข้าสู่ล็อบบี้</button>
        </div>
    </div>

    <!-- Page 2: Lobby -->
    <div id="page-lobby" class="page" style="display: none;">
        <div class="container">
            <h2>ล็อบบี้</h2>
            <p>สวัสดี, <span id="lobby-player-name"></span>!</p>
            <button id="btn-create-room" class="btn btn-secondary">สร้างห้องใหม่</button>
            <hr>
            <h3>รายชื่อห้อง</h3>
            <div id="room-list-container">
                <p>กำลังโหลดรายชื่อห้อง...</p>
            </div>
        </div>
    </div>

    <!-- Page 3: Game Room -->
    <div id="page-game" class="page" style="display: none;">
        <div class="container">
            <h2 id="game-room-name">ห้อง: ...</h2>
            <div id="player-list-container">
                <h3>ผู้เล่นในห้อง</h3>
                <div id="player-list"></div>
            </div>
            <hr>

            <!-- Setup Section -->
            <div id="setup-section">
                <p>เมื่อทุกคนเข้ามาครบแล้ว กดปุ่มเพื่อสุ่มเลขลับ 4 หลักและเตรียมพร้อม</p>
                <button id="btn-ready-up" class="btn btn-primary">ฉันพร้อมแล้ว!</button>
            </div>

            <!-- Waiting Section -->
            <div id="waiting-section" style="display: none;">
                <h3>ยอดเยี่ยม!</h3>
                <p>กำลังรอผู้เล่นคนอื่นตั้งค่า...</p>
                <div class="spinner"></div>
            </div>

            <!-- Gameplay Section -->
            <div id="gameplay-section" style="display: none;">
                <!-- *** NEW: Indicators for the new game mode *** -->
                <h4 id="target-indicator">เป้าหมายรอบนี้: ...</h4>
                <h3 id="turn-indicator">ผู้ทาย: ...</h3>
                
                <div id="game-display"></div>
                <div class="keypad">
                    <button class="key">1</button> <button class="key">2</button> <button class="key">3</button>
                    <button class="key">4</button> <button class="key">5</button> <button class="key">6</button>
                    <button class="key">7</button> <button class="key">8</button> <button class="key">9</button>
                    <button id="btn-delete" class="key key-special">ลบ</button>
                    <button class="key">0</button>
                    <button id="btn-guess" class="key key-special">ทาย</button>
                </div>
                <hr>
                <h4>ประวัติการทาย</h4>
                <div id="guess-log"></div>
            </div>
            
            <hr>
            <button id="btn-leave-room" class="btn btn-danger">ออกจากห้อง</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
